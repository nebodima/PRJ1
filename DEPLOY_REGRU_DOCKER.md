# –î–µ–ø–ª–æ–π HelpDesk –Ω–∞ Reg.ru VPS —Å Docker

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker –¥–µ–ø–ª–æ—è:
- ‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (docker-compose.yml)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `git pull && docker-compose up -d --build`
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –®–∞–≥ 1: –ó–∞–∫–∞–∑ VPS –Ω–∞ Reg.ru

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [reg.ru](https://www.reg.ru/vps/) ‚Üí **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã**
2. –í—ã–±–µ—Ä–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (~300‚ÇΩ/–º–µ—Å)
3. **–í–ê–ñ–ù–û:** –ü—Ä–∏ –∑–∞–∫–∞–∑–µ –≤—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω **"Docker"** –∏–ª–∏ **"Ubuntu 20.04/22.04"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–∏—Å—å–º–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–æ—Å—Ç—É–ø–∞ (IP, root –ø–∞—Ä–æ–ª—å)

---

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ –ø–∏—Å—å–º–∞
```

---

## –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Compose
apt install docker-compose -y

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker-compose --version
```

---

## –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Git (–µ—Å–ª–∏ –Ω–µ—Ç)
apt install git -y

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
mkdir -p /var/www
cd /var/www

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å GitHub
git clone https://github.com/nebodima/PRJ1.git
cd PRJ1

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ä–∞–±–æ—á—É—é –≤–µ—Ç–∫—É
git checkout claude/add-authentication-011CUSXPXi7Uq6KsxZX5vKBZ
```

---

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –≤ nginx.conf

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å nginx.conf
nano nginx.conf

# –ó–∞–º–µ–Ω–∏—Ç–µ '–≤–∞—à-–¥–æ–º–µ–Ω.ru' –Ω–∞ –≤–∞—à –Ω–∞—Å—Ç–æ—è—â–∏–π –¥–æ–º–µ–Ω
# –ù–∞–ø—Ä–∏–º–µ—Ä: helpdesk.example.ru

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: Ctrl+O, Enter, Ctrl+X
```

---

## –®–∞–≥ 6: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å Docker Compose

```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f

# –ï—Å–ª–∏ –≤—Å—ë –û–ö, –Ω–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ª–æ–≥–æ–≤
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. Docker —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Node.js, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Å–æ–±–∏—Ä–∞–µ—Ç frontend)
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω–∞ –ø–æ—Ä—Ç—É 3000
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç Nginx –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80/443 –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

---

## –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –Ω–∞ Reg.ru

1. –ó–∞–π–¥–∏—Ç–µ –≤ [reg.ru](https://www.reg.ru) ‚Üí **–î–æ–º–µ–Ω—ã** ‚Üí –í–∞—à –¥–æ–º–µ–Ω
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **DNS-—Å–µ—Ä–≤–µ—Ä—ã –∏ –∑–æ–Ω–∞**
3. –î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ **A-–∑–∞–ø–∏—Å–∏**:

   | –ò–º—è | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ |
   |-----|-----|----------|
   | `@` –∏–ª–∏ –ø—É—Å—Ç–æ | A | `IP-–≤–∞—à–µ–≥–æ-VPS` |
   | `www` | A | `IP-–≤–∞—à–µ–≥–æ-VPS` |

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 15-60 –º–∏–Ω—É—Ç (—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ DNS)

---

## –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://–≤–∞—à-–¥–æ–º–µ–Ω.ru`

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞ HelpDesk —Å —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π Claude AI!

**–¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: `Admin` / `19822503`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: `–ù–∏–∫–æ–ª–∞–π`, `–ê–ª–µ–∫—Å–µ–π`, `–î–º–∏—Ç—Ä–∏–π`, `–ê–Ω—Ç–æ–Ω`, `–°–ª–∞–≤–∞` / `123`

---

## –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS) —Å Let's Encrypt

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
docker-compose stop nginx

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot
apt install certbot -y

# –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot certonly --standalone -d –≤–∞—à-–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p /var/www/PRJ1/ssl

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
cp /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/fullchain.pem /var/www/PRJ1/ssl/
cp /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/privkey.pem /var/www/PRJ1/ssl/

# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
chmod 644 /var/www/PRJ1/ssl/*.pem

# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å HTTPS —Å–µ–∫—Ü–∏—é –≤ nginx.conf
nano nginx.conf
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é '# HTTPS Server' –∏ '# HTTP Server - redirect to HTTPS'
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—É—é HTTP —Å–µ–∫—Ü–∏—é –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
echo "0 0 1 * * certbot renew --quiet && cp /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/*.pem /var/www/PRJ1/ssl/ && docker-compose -f /var/www/PRJ1/docker-compose.yml restart nginx" | crontab -
```

–¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS: `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru` üîí

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```bash
cd /var/www/PRJ1
docker-compose logs -f
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
docker-compose restart
```

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
docker-compose down
```

### –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub
```bash
cd /var/www/PRJ1
git pull
docker-compose up -d --build
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker-compose ps
```

### –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã (–æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ)
```bash
docker system prune -a
```

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs app

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d --build --force-recreate
```

### Nginx –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É 502
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
docker-compose ps
docker-compose logs app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx
docker-compose restart nginx
```

### –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
ufw status
ufw allow 80
ufw allow 443
ufw allow 22
```

### –ù–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–¥
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Docker –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose down
docker system prune -f
git pull
docker-compose up -d --build
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º –¥–µ–ø–ª–æ–µ–º

| –ê—Å–ø–µ–∫—Ç | –ë–µ–∑ Docker | –° Docker |
|--------|-----------|----------|
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ | –í—Ä—É—á–Ω—É—é Node.js, PM2, Nginx | `docker-compose up -d` |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | git pull + npm install + pm2 restart | `git pull && docker-compose up -d --build` |
| –ò–∑–æ–ª—è—Ü–∏—è | –ù–µ—Ç | –î–∞, –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è |
| –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |
| –û—Ç–∫–∞—Ç –≤–µ—Ä—Å–∏–∏ | –°–ª–æ–∂–Ω–æ | –õ–µ–≥–∫–æ —á–µ—Ä–µ–∑ –æ–±—Ä–∞–∑—ã |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –ú–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ | 1 —Ñ–∞–π–ª docker-compose.yml |

---

## –ü–ª—é—Å—ã Docker –¥–µ–ø–ª–æ—è:
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –û–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ:** –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å

## –ú–∏–Ω—É—Å—ã:
- ‚ùå –ß—É—Ç—å –±–æ–ª—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM (~100-200 –ú–ë)
- ‚ùå –ù—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –æ—Å–Ω–æ–≤—ã Docker

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à HelpDesk —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Docker –Ω–∞ Reg.ru VPS! üöÄ
